<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Minecraft GitHub Edition</title>
    <style>
        body { margin: 0; overflow: hidden; touch-action: none; background: #87CEEB; font-family: sans-serif; }
        #crosshair { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px; pointer-events: none; z-index: 100; }
        #ui { position: absolute; bottom: 20px; left: 10px; display: grid; grid-template-columns: repeat(3, 50px); gap: 5px; z-index: 10; }
        .btn { width: 50px; height: 50px; background: rgba(0,0,0,0.5); border: 2px solid #fff; color: white; display: flex; align-items: center; justify-content: center; border-radius: 8px; font-weight: bold; }
        #hotbar { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 5px; background: rgba(0,0,0,0.8); padding: 5px; border-radius: 5px; z-index: 20; border: 2px solid #555; }
        .slot { width: 35px; height: 35px; border: 1px solid #777; }
        .active { border: 2px solid #fff; box-shadow: 0 0 5px #fff; }
        #jump { position: absolute; bottom: 20px; right: 20px; width: 65px; height: 65px; background: rgba(0,0,0,0.5); border: 2px solid #fff; border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; z-index: 10; }
    </style>
</head>
<body>
    <div id="crosshair">+</div>
    <div id="ui">
        <div></div><div class="btn" id="w">W</div><div></div>
        <div class="btn" id="a">A</div><div class="btn" id="s">S</div><div class="btn" id="d">D</div>
    </div>
    <div id="hotbar">
        <div class="slot active" onclick="sel(0x567d46, this)" style="background:#567d46"></div>
        <div class="slot" onclick="sel(0x888888, this)" style="background:#888888"></div>
        <div class="slot" onclick="sel(0x795548, this)" style="background:#795548"></div>
        <div class="slot" onclick="sel(0xffb7c5, this)" style="background:#ffb7c5"></div>
    </div>
    <div id="jump">PULO</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x87CEEB);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        const light = new THREE.HemisphereLight(0xffffff, 0x444444, 1);
        scene.add(light);

        const objects = [];
        const geo = new THREE.BoxGeometry(1, 1, 1);
        let curCol = 0x567d46;

        function sel(c, e) {
            curCol = c;
            document.querySelectorAll('.slot').forEach(s => s.classList.remove('active'));
            e.classList.add('active');
        }

        function b(x, y, z, c) {
            const m = new THREE.Mesh(geo, new THREE.MeshLambertMaterial({ color: c }));
            m.position.set(Math.round(x), Math.round(y), Math.round(z));
            const ed = new THREE.LineSegments(new THREE.EdgesGeometry(geo), new THREE.LineBasicMaterial({ color: 0x000000, transparent: true, opacity: 0.2 }));
            m.add(ed);
            scene.add(m);
            objects.push(m);
        }

        for(let x=-8; x<8; x++) for(let z=-8; z<8; z++) b(x,0,z,0x567d46);

        camera.position.set(0, 2, 5);
        let mov={f:0,b:0,l:0,r:0}, vy=0, ground=false, yaw=0, pitch=0;

        const ctrl = (id, k, v) => {
            const e = document.getElementById(id);
            e.ontouchstart = (ev) => { ev.preventDefault(); mov[k] = v; };
            e.ontouchend = () => mov[k] = 0;
        };
        ctrl('w','f',1); ctrl('s','b',1); ctrl('a','l',1); ctrl('d','r',1);
        document.getElementById('jump').ontouchstart = (e) => { e.preventDefault(); if(ground) vy=0.15; };

        let lx, ly;
        document.addEventListener('touchstart', e => { lx = e.touches[0].pageX; ly = e.touches[0].pageY; });
        document.addEventListener('touchmove', e => {
            if(e.touches[0].pageX > window.innerWidth/2) {
                yaw -= (e.touches[0].pageX - lx) * 0.007;
                pitch -= (e.touches[0].pageY - ly) * 0.007;
                pitch = Math.max(-1.5, Math.min(1.5, pitch));
                lx = e.touches[0].pageX; ly = e.touches[0].pageY;
            }
        });

        document.addEventListener('touchend', e => {
            if(e.target.tagName !== 'CANVAS') return;
            const r = new THREE.Raycaster();
            r.setFromCamera(new THREE.Vector2(0,0), camera);
            const h = r.intersectObjects(objects);
            if(h.length > 0) {
                const p = h[0].object.position;
                const n = h[0].face.normal;
                b(p.x+n.x, p.y+n.y, p.z+n.z, curCol);
            }
        });

        function animate() {
            requestAnimationFrame(animate);
            camera.rotation.set(pitch, yaw, 0, 'YXZ');
            vy -= 0.008; camera.position.y += vy;
            if(camera.position.y < -10) camera.position.set(0,2,0);

            const ray = new THREE.Raycaster(camera.position, new THREE.Vector3(0,-1,0));
            const h = ray.intersectObjects(objects);
            if(h.length > 0 && h[0].distance < 1.6) {
                camera.position.y = h[0].point.y + 1.6;
                vy = 0; ground = true;
            } else ground = false;

            const s = 0.12;
            if(mov.f) camera.translateZ(-s); if(mov.b) camera.translateZ(s);
            if(mov.l) camera.translateX(-s); if(mov.r) camera.translateX(s);
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
                                                                        </html>
  
